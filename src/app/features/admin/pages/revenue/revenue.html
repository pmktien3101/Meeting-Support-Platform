<div class="revenue-page">
  <div class="header">
    <h1>Doanh thu</h1>
    <p>T·ªïng quan doanh thu MSP theo th·ªùi gian</p>
  </div>

  <div class="kpis">
    <div class="kpi">
      <div class="icon">üí∞</div>
      <div class="content">
        <div class="number">{{ total() | number }} ƒë</div>
        <div class="label">T·ªïng doanh thu</div>
      </div>
    </div>
    <div class="kpi">
      <div class="icon">üìÜ</div>
      <div class="content">
        <div class="number">{{ monthly() | number }} ƒë</div>
        <div class="label">Th√°ng n√†y</div>
      </div>
    </div>
    <div class="kpi">
      <div class="icon">üìà</div>
      <div class="content">
        <div class="number">+{{ growth() }}%</div>
        <div class="label">TƒÉng tr∆∞·ªüng</div>
      </div>
    </div>
  </div>

  <div class="grid-2">
    <section class="card">
      <div class="card-title">Doanh thu 7 ng√†y</div>
      <div class="chart">
        <svg viewBox="0 0 600 160" preserveAspectRatio="none">
          <polyline fill="none" stroke="#FF5E13" stroke-width="3" [attr.points]="linePoints()"></polyline>
        </svg>
      </div>
      <div class="days">
        <span *ngFor="let d of last7Days()">{{ d.date }}</span>
      </div>
    </section>

    <section class="card">
      <div class="card-title">T·ª∑ tr·ªçng theo doanh nghi·ªáp</div>
      <div class="bars">
        <div class="bar" *ngFor="let b of byCompany()" [style.height.%]="b.value">
          <span class="bar-label">{{ b.label }}</span>
        </div>
      </div>
    </section>
  </div>

  <section class="card table-card">
    <div class="card-title">Doanh thu theo c√¥ng ty</div>

    <div class="table-filters">
      <input class="input" type="text" placeholder="T√¨m c√¥ng ty..." [ngModel]="searchTerm()" (ngModelChange)="searchTerm.set($event)">
      <select class="select" aria-label="L·ªçc theo g√≥i" [ngModel]="planFilter()" (ngModelChange)="planFilter.set($event)">
        <option value="">T·∫•t c·∫£ g√≥i</option>
        <option>Basic</option>
        <option>Pro</option>
        <option>Enterprise</option>
      </select>
    </div>

    <div class="table-wrap">
      <table class="table">
        <thead>
          <tr>
            <th>C√¥ng ty</th>
            <th>G√≥i</th>
            <th>Seats</th>
            <th>Ph√≠ (MRR)</th>
            <th>Tr·∫°ng th√°i</th>
            <th>Gia h·∫°n</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of filteredCompanies()">
            <td>{{ c.name }}</td>
            <td><span class="badge" [class.basic]="c.plan==='Basic'" [class.pro]="c.plan==='Pro'" [class.enterprise]="c.plan==='Enterprise'">{{ c.plan }}</span></td>
            <td>{{ c.seats | number }}</td>
            <td>{{ c.price | number }} ƒë</td>
            <td>{{ c.status }}</td>
            <td>{{ c.renewal }}</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3" class="right muted">T·ªïng MRR</td>
            <td colspan="3" class="strong">{{ totalMRR() | number }} ƒë</td>
          </tr>
        </tfoot>
      </table>
    </div>
  </section>
</div>


