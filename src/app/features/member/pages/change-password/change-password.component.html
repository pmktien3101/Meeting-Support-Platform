<div class="change-password-page">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Đổi Mật Khẩu</h1>
      <p class="page-subtitle">Cập nhật mật khẩu để bảo mật tài khoản của bạn</p>
    </div>
  </div>

  <!-- Password Change Form -->
  <div class="password-form-container">
    <div class="password-form">
      <div class="form-header">
        <div class="security-icon">🔒</div>
        <h2>Thay Đổi Mật Khẩu</h2>
        <p>Vui lòng nhập mật khẩu hiện tại và mật khẩu mới</p>
      </div>

      <form (ngSubmit)="changePassword()" class="form">
        <div class="form-group">
          <label for="currentPassword" class="form-label">
            <span class="label-icon">🔑</span>
            Mật khẩu hiện tại
          </label>
          <div class="password-input-container">
            <input 
              [type]="showCurrentPassword() ? 'text' : 'password'"
              id="currentPassword"
              [(ngModel)]="currentPassword"
              name="currentPassword"
              placeholder="Nhập mật khẩu hiện tại"
              class="form-input password-input"
              required
            >
            <button 
              type="button" 
              class="password-toggle"
              (click)="toggleCurrentPassword()"
            >
              <span class="toggle-icon">{{ showCurrentPassword() ? '👁️' : '🙈' }}</span>
            </button>
          </div>
        </div>

        <div class="form-group">
          <label for="newPassword" class="form-label">
            <span class="label-icon">🆕</span>
            Mật khẩu mới
          </label>
          <div class="password-input-container">
            <input 
              [type]="showNewPassword() ? 'text' : 'password'"
              id="newPassword"
              [(ngModel)]="newPassword"
              name="newPassword"
              placeholder="Nhập mật khẩu mới"
              class="form-input password-input"
              required
            >
            <button 
              type="button" 
              class="password-toggle"
              (click)="toggleNewPassword()"
            >
              <span class="toggle-icon">{{ showNewPassword() ? '👁️' : '🙈' }}</span>
            </button>
          </div>
          <div class="password-strength" *ngIf="newPassword">
            <div class="strength-label">Độ mạnh mật khẩu:</div>
            <div class="strength-bar">
              <div class="strength-fill" [class]="getPasswordStrengthClass()" [style.width.%]="getPasswordStrength()"></div>
            </div>
            <div class="strength-text" [class]="getPasswordStrengthClass()">
              {{ getPasswordStrengthText() }}
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword" class="form-label">
            <span class="label-icon">✅</span>
            Xác nhận mật khẩu mới
          </label>
          <div class="password-input-container">
            <input 
              [type]="showConfirmPassword() ? 'text' : 'password'"
              id="confirmPassword"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              placeholder="Nhập lại mật khẩu mới"
              class="form-input password-input"
              required
            >
            <button 
              type="button" 
              class="password-toggle"
              (click)="toggleConfirmPassword()"
            >
              <span class="toggle-icon">{{ showConfirmPassword() ? '👁️' : '🙈' }}</span>
            </button>
          </div>
          <div class="password-match" *ngIf="confirmPassword">
            <span class="match-icon" [class]="passwordsMatch() ? 'match' : 'no-match'">
              {{ passwordsMatch() ? '✅' : '❌' }}
            </span>
            <span class="match-text" [class]="passwordsMatch() ? 'match' : 'no-match'">
              {{ passwordsMatch() ? 'Mật khẩu khớp' : 'Mật khẩu không khớp' }}
            </span>
          </div>
        </div>

        <div class="password-requirements">
          <h4>Yêu cầu mật khẩu:</h4>
          <ul class="requirements-list">
            <li [class.met]="hasMinLength()">
              <span class="requirement-icon">{{ hasMinLength() ? '✅' : '❌' }}</span>
              Ít nhất 8 ký tự
            </li>
            <li [class.met]="hasUppercase()">
              <span class="requirement-icon">{{ hasUppercase() ? '✅' : '❌' }}</span>
              Có chữ hoa
            </li>
            <li [class.met]="hasLowercase()">
              <span class="requirement-icon">{{ hasLowercase() ? '✅' : '❌' }}</span>
              Có chữ thường
            </li>
            <li [class.met]="hasNumber()">
              <span class="requirement-icon">{{ hasNumber() ? '✅' : '❌' }}</span>
              Có số
            </li>
            <li [class.met]="hasSpecialChar()">
              <span class="requirement-icon">{{ hasSpecialChar() ? '✅' : '❌' }}</span>
              Có ký tự đặc biệt (!@#$%^&*)
            </li>
          </ul>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="!canSubmit()">
            <span class="btn-icon">🔐</span>
            Đổi Mật Khẩu
          </button>
          <button type="button" class="btn btn-outline" (click)="cancel()">
            <span class="btn-icon">❌</span>
            Hủy
          </button>
        </div>
      </form>
    </div>

    <!-- Security Tips -->
    <div class="security-tips">
      <div class="tips-header">
        <h3>💡 Mẹo Bảo Mật</h3>
      </div>
      <div class="tips-content">
        <div class="tip-item">
          <div class="tip-icon">🔒</div>
          <div class="tip-text">
            <strong>Không chia sẻ mật khẩu</strong>
            <p>Không bao giờ chia sẻ mật khẩu với người khác, kể cả nhân viên hỗ trợ</p>
          </div>
        </div>
        <div class="tip-item">
          <div class="tip-icon">🔄</div>
          <div class="tip-text">
            <strong>Thay đổi thường xuyên</strong>
            <p>Nên thay đổi mật khẩu ít nhất 3-6 tháng một lần</p>
          </div>
        </div>
        <div class="tip-item">
          <div class="tip-icon">📱</div>
          <div class="tip-text">
            <strong>Sử dụng xác thực 2 yếu tố</strong>
            <p>Bật xác thực 2 yếu tố để tăng cường bảo mật tài khoản</p>
          </div>
        </div>
        <div class="tip-item">
          <div class="tip-icon">💻</div>
          <div class="tip-text">
            <strong>Đăng xuất khi không sử dụng</strong>
            <p>Luôn đăng xuất khi sử dụng máy tính công cộng</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
