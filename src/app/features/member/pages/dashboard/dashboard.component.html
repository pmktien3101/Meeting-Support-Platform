<div class="dashboard-page">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <div class="welcome-content">
      <h1 class="welcome-title">Chào mừng trở lại, {{ userName() }}! 👋</h1>
      <p class="welcome-subtitle">Đây là tổng quan về công việc và cuộc họp của bạn hôm nay</p>
    </div>
    <div class="welcome-actions">
      <button class="btn btn-primary" (click)="scheduleMeeting()">
        <span class="btn-icon">📅</span>
        Lên Lịch Họp
      </button>
      <button class="btn btn-outline" (click)="createTask()">
        <span class="btn-icon">➕</span>
        Tạo Nhiệm Vụ
      </button>
    </div>
  </div>

  <!-- Stats Section -->
  <div class="stats-section">
    <div class="stat-item">
      <div class="stat-icon">📅</div>
      <div class="stat-content">
        <div class="stat-number">{{ stats().meetings }}</div>
        <div class="stat-label">Cuộc Họp Hôm Nay</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">📋</div>
      <div class="stat-content">
        <div class="stat-number">{{ stats().tasks }}</div>
        <div class="stat-label">Nhiệm Vụ Đang Thực Hiện</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">⏰</div>
      <div class="stat-content">
        <div class="stat-number">{{ stats().overdue }}</div>
        <div class="stat-label">Nhiệm Vụ Quá Hạn</div>
      </div>
    </div>
    <div class="stat-item">
      <div class="stat-icon">📊</div>
      <div class="stat-content">
        <div class="stat-number">{{ stats().progress }}%</div>
        <div class="stat-label">Tiến Độ Dự Án</div>
      </div>
    </div>
  </div>

  <!-- Quick Actions Section -->
  <div class="quick-actions-section">
    <h2 class="section-title">Thao Tác Nhanh</h2>
    <div class="actions-grid">
      <button class="action-card" (click)="joinMeeting()">
        <div class="action-icon">🎥</div>
        <div class="action-text">Tham Gia Họp</div>
      </button>
      <button class="action-card" (click)="viewTasks()">
        <div class="action-icon">📋</div>
        <div class="action-text">Xem Nhiệm Vụ</div>
      </button>
      <button class="action-card" (click)="scheduleMeeting()">
        <div class="action-icon">📅</div>
        <div class="action-text">Lên Lịch Họp</div>
      </button>
      <button class="action-card" (click)="createTask()">
        <div class="action-icon">➕</div>
        <div class="action-text">Tạo Nhiệm Vụ</div>
      </button>
      <button class="action-card" (click)="viewReports()">
        <div class="action-icon">📊</div>
        <div class="action-text">Xem Báo Cáo</div>
      </button>
      <button class="action-card" (click)="teamChat()">
        <div class="action-icon">💬</div>
        <div class="action-text">Team Chat</div>
      </button>
    </div>
  </div>

  <!-- Content Grid -->
  <div class="content-grid">
    <!-- Upcoming Meetings -->
    <div class="content-section">
      <div class="section-header">
        <h2 class="section-title">Cuộc Họp Sắp Diễn Ra</h2>
        <button class="btn btn-sm btn-outline" (click)="viewAllMeetings()">Xem Tất Cả</button>
      </div>
      <div class="meetings-list">
        <div *ngFor="let meeting of upcomingMeetings()" class="meeting-item">
          <div class="meeting-time">
            <div class="time">{{ meeting.time }}</div>
            <div class="duration">{{ meeting.duration }}</div>
          </div>
          <div class="meeting-info">
            <h3 class="meeting-title">{{ meeting.title }}</h3>
            <p class="meeting-project">{{ meeting.project }}</p>
            <div class="meeting-meta">
              <span class="organizer">👤 {{ meeting.organizer }}</span>
              <span class="participants">👥 {{ meeting.participants.length }} người</span>
            </div>
          </div>
          <div class="meeting-actions">
            <button class="btn btn-sm btn-primary" (click)="joinMeeting()">
              <span class="btn-icon">🎥</span>
              Tham Gia
            </button>
            <button class="btn btn-sm btn-outline" (click)="addToCalendar(meeting)">
              <span class="btn-icon">📅</span>
              Lịch
            </button>
          </div>
        </div>
        <div *ngIf="upcomingMeetings().length === 0" class="empty-state">
          <p>Không có cuộc họp nào sắp diễn ra</p>
        </div>
      </div>
    </div>

    <!-- Recent Tasks -->
    <div class="content-section">
      <div class="section-header">
        <h2 class="section-title">Nhiệm Vụ Gần Đây</h2>
        <button class="btn btn-sm btn-outline" (click)="viewAllTasks()">Xem Tất Cả</button>
      </div>
      <div class="tasks-list">
        <div *ngFor="let task of recentTasks()" class="task-item">
          <div class="task-status" [class]="task.status">
            <div class="status-dot"></div>
          </div>
          <div class="task-info">
            <h3 class="task-title">{{ task.title }}</h3>
            <p class="task-project">{{ task.project }}</p>
            <div class="task-meta">
              <span class="due-date" [class.overdue]="isUrgent(task.dueDate)">
                ⏰ {{ task.dueDate }}
              </span>
              <span class="priority" [class]="'priority-' + task.priority">
                {{ getPriorityText(task.priority) }}
              </span>
            </div>
          </div>
          <div class="task-actions">
            <button class="btn btn-sm btn-primary" (click)="updateTaskStatus(task)">
              {{ getStatusText(task.status) === 'Chưa bắt đầu' ? 'Bắt Đầu' : 'Cập Nhật' }}
            </button>
          </div>
        </div>
        <div *ngIf="recentTasks().length === 0" class="empty-state">
          <p>Không có nhiệm vụ nào</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Project Progress Section -->
  <div class="project-progress-section">
    <h2 class="section-title">Tiến Độ Dự Án</h2>
    <div class="projects-grid">
      <div *ngFor="let project of projectProgress()" class="project-card">
        <div class="project-header">
          <h3 class="project-title">{{ project.name }}</h3>
          <span class="project-status">{{ project.status }}</span>
        </div>
        <div class="project-progress">
          <div class="progress-info">
            <span class="progress-text">Tiến độ</span>
            <span class="progress-percentage">{{ project.progress }}%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="project.progress"></div>
          </div>
        </div>
        <div class="project-meta">
          <span class="deadline">⏰ {{ project.deadline }}</span>
          <span class="tasks">📋 {{ project.completedTasks }}/{{ project.tasks }}</span>
        </div>
        <button class="btn btn-sm btn-outline" (click)="viewProjectDetails(project)">
          Xem Chi Tiết
        </button>
      </div>
    </div>
  </div>
</div>


