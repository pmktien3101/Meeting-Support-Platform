<div class="tasks-page">
  <div class="page-header">
    <div class="header-content">
      <h2>‚úÖ Qu·∫£n L√Ω C√¥ng Vi·ªác</h2>
      <p>Theo d√µi v√† qu·∫£n l√Ω c√°c task c·ªßa d·ª± √°n</p>
    </div>
    <div class="header-actions">
      <button class="btn btn-primary" (click)="openCreateTask()">
        ‚ûï T·∫°o Task M·ªõi
      </button>
      <button class="btn btn-secondary">
        üìä Xem B√°o C√°o
      </button>
    </div>
  </div>

  <div class="tasks-filters">
    <div class="filter-group">
      <label>Tr·∫°ng th√°i:</label>
      <select class="filter-select" aria-label="L·ªçc theo tr·∫°ng th√°i">
        <option value="">T·∫•t c·∫£</option>
        <option value="todo">To-do</option>
        <option value="in-progress">ƒêang th·ª±c hi·ªán</option>
        <option value="review">ƒêang review</option>
        <option value="done">Ho√†n th√†nh</option>
      </select>
    </div>
    <div class="filter-group">
      <label>M·ª©c ƒë·ªô ∆∞u ti√™n:</label>
      <select class="filter-select" aria-label="L·ªçc theo m·ª©c ƒë·ªô ∆∞u ti√™n">
        <option value="">T·∫•t c·∫£</option>
        <option value="low">Th·∫•p</option>
        <option value="medium">Trung b√¨nh</option>
        <option value="high">Cao</option>
        <option value="urgent">Kh·∫©n c·∫•p</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Ng∆∞·ªùi th·ª±c hi·ªán:</label>
      <select class="filter-select" aria-label="L·ªçc theo ng∆∞·ªùi th·ª±c hi·ªán">
        <option value="">T·∫•t c·∫£</option>
        <option value="me">C·ªßa t√¥i</option>
        <option value="team">C·ªßa nh√≥m</option>
      </select>
    </div>
    <div class="filter-group">
      <label>T√¨m ki·∫øm:</label>
      <input type="text" class="filter-input" placeholder="T√¨m ki·∫øm task...">
    </div>
  </div>

  <div class="tasks-grid">
    <div class="task-card" *ngFor="let task of tasks">
      <div class="task-header">
        <div class="task-icon">‚úÖ</div>
        <div class="task-status">
          <span class="status-badge" [class]="task.status">
            {{ getStatusText(task.status) }}
          </span>
        </div>
      </div>
      
      <div class="task-content">
        <h3 class="task-title">{{ task.title }}</h3>
        <p class="task-description">{{ task.description }}</p>
        
        <div class="task-meta">
          <div class="meta-item">
            <span class="meta-icon">üìÅ</span>
            <span class="meta-text">{{ getProjectName(task.projectId) }}</span>
          </div>
          <div class="meta-item">
            <span class="meta-icon">üë§</span>
            <span class="meta-text">{{ getAssigneeName(task.assigneeId) }}</span>
          </div>
          <div class="meta-item">
            <span class="meta-icon">üéØ</span>
            <span class="meta-text">{{ getPriorityText(task.priority) }}</span>
          </div>
        </div>
        
        <div class="task-dates">
          <div class="date-item">
            <span class="date-label">B·∫Øt ƒë·∫ßu:</span>
            <span class="date-value">{{ task.startDate | date:'dd/MM/yyyy' }}</span>
          </div>
          <div class="date-item">
            <span class="date-label">H·∫°n:</span>
            <span class="date-value" [class.overdue]="isOverdue(task.dueDate)">
              {{ task.dueDate | date:'dd/MM/yyyy' }}
            </span>
          </div>
        </div>
        
        <div class="task-progress">
          <div class="progress-header">
            <span class="progress-label">Ti·∫øn ƒë·ªô</span>
            <span class="progress-percentage">{{ getTaskProgress(task.id) }}%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="getTaskProgress(task.id)"></div>
          </div>
        </div>
      </div>
      
      <div class="task-actions">
        <button class="btn btn-primary btn-sm">Xem Chi Ti·∫øt</button>
        <button class="btn btn-secondary btn-sm">Ch·ªânh S·ª≠a</button>
        <button class="btn btn-outline btn-sm">üìã Ghi Ch√∫</button>
      </div>
    </div>
  </div>

  <div class="tasks-summary">
    <div class="summary-card">
      <div class="summary-icon">‚úÖ</div>
      <div class="summary-content">
        <h4>T·ªïng s·ªë task</h4>
        <p class="summary-number">{{ tasks.length }}</p>
      </div>
    </div>
    <div class="summary-card">
      <div class="summary-icon">üöÄ</div>
      <div class="summary-content">
        <h4>ƒêang th·ª±c hi·ªán</h4>
        <p class="summary-number">{{ getInProgressCount() }}</p>
      </div>
    </div>
    <div class="summary-card">
      <div class="summary-icon">‚úÖ</div>
      <div class="summary-content">
        <h4>Ho√†n th√†nh</h4>
        <p class="summary-number">{{ getCompletedCount() }}</p>
      </div>
    </div>
    <div class="summary-card">
      <div class="summary-icon">‚è∞</div>
      <div class="summary-content">
        <h4>S·∫Øp h·∫°n</h4>
        <p class="summary-number">{{ getDueSoonCount() }}</p>
      </div>
    </div>
  </div>
</div>
