<div class="meeting-list-container">
  <div class="meeting-list-header">
    <div class="header-content">
      <div class="title-section">
        <h1>Meetings</h1>
        <p>Schedule, join, and manage your project meetings</p>
      </div>
      <div class="actions">
        <button class="schedule-btn" routerLink="/meeting/schedule">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5V19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Schedule Meeting
        </button>
      </div>
    </div>

    <div class="filters-section">
      <div class="search-box">
        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input 
          type="text" 
          placeholder="Search meetings..." 
          [(ngModel)]="searchTerm"
          (input)="onSearch()"
        >
      </div>

      <div class="status-filter">
        <select [(ngModel)]="statusFilter" (change)="onStatusFilterChange()" aria-label="Filter by status">
          <option value="all">All Status</option>
          <option value="scheduled">Scheduled</option>
          <option value="in-progress">In Progress</option>
          <option value="completed">Completed</option>
          <option value="cancelled">Cancelled</option>
        </select>
      </div>

      <div class="type-filter">
        <select [(ngModel)]="typeFilter" (change)="onTypeFilterChange()" aria-label="Filter by meeting type">
          <option value="all">All Types</option>
          <option value="zoom">Zoom</option>
          <option value="teams">Teams</option>
          <option value="google-meet">Google Meet</option>
          <option value="in-person">In Person</option>
        </select>
      </div>
    </div>
  </div>

  <div class="meeting-list-content">
    <div *ngIf="isLoading" class="loading-state">
      <div class="loading-spinner"></div>
      <p>Loading meetings...</p>
    </div>

    <div *ngIf="!isLoading && filteredMeetings.length === 0" class="empty-state">
      <div class="empty-icon">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 2V5" stroke="#D1D5DB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16 2V5" stroke="#D1D5DB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M3 10H21" stroke="#D1D5DB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z" stroke="#D1D5DB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h3>No meetings found</h3>
      <p>Schedule your first meeting to get started</p>
      <button class="schedule-btn" routerLink="/meeting/schedule">Schedule Meeting</button>
    </div>

    <div *ngIf="!isLoading && filteredMeetings.length > 0" class="meetings-grid">
      <div *ngFor="let meeting of filteredMeetings" class="meeting-card" [routerLink]="['/meeting', meeting.id]">
        <div class="meeting-header">
          <div class="meeting-type">
            <span class="type-icon">{{ getMeetingTypeIcon(meeting.meetingType) }}</span>
            <span class="type-text">{{ getMeetingTypeText(meeting.meetingType) }}</span>
          </div>
          <div class="meeting-status">
            <span class="status-badge" [style.background-color]="getStatusColor(meeting.status)">
              {{ getStatusText(meeting.status) }}
            </span>
            <div *ngIf="isUpcoming(meeting)" class="time-until">
              {{ getTimeUntilMeeting(meeting) }}
            </div>
          </div>
        </div>

        <div class="meeting-content">
          <h3 class="meeting-title">{{ meeting.title }}</h3>
          <p class="meeting-description">{{ meeting.description }}</p>

          <div class="meeting-details">
            <div class="detail-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 2V5" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M16 2V5" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M3 10H21" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>{{ meeting.startTime | date:'MMM dd, yyyy' }}</span>
            </div>
            <div class="detail-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 8V12L15 15" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>{{ meeting.startTime | date:'HH:mm' }} - {{ meeting.endTime | date:'HH:mm' }}</span>
            </div>
            <div class="detail-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>{{ meeting.attendees.length }} attendees</span>
            </div>
          </div>

          <div class="meeting-actions">
            <div *ngIf="meeting.meetingLink && meeting.status === 'scheduled'" class="action-buttons">
              <button class="join-btn" (click)="$event.stopPropagation(); openMeetingLink(meeting)">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 10L11 14L17 20L21 16L15 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 20H7C5.89543 20 5 19.1046 5 18V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Join
              </button>
            </div>

            <div *ngIf="meeting.status === 'completed'" class="meeting-resources">
              <div *ngIf="meeting.recordingUrl" class="resource-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14.828 14.828A4 4 0 0 1 9.172 9.172" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M9.172 14.828A4 4 0 0 1 14.828 9.172" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Recording</span>
              </div>
              <div *ngIf="meeting.transcriptUrl" class="resource-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M14 2V8H20" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M16 13H8" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M16 17H8" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M10 9H8" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Transcript</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
